<template>
    <button :id="$id" :name="$name" :disabled="$disabled" :redirect="$redirect" :guard="$guard" :method="$onclick" onclick="triggerButton(this)" :class="$button_width $button_height $line_height $bgcolor $bgcolor_hover $bgcolor_active $text_color $text_size $border_radius v-display-block v-pd-none v-mg-none v-align-center nv-button">
        <div class="v-display-inline-block">
            <b :show="hasIcon()" :class="$icon_margin v-square-16px v-show v-f-left v-mg-r-8px">
                <v-icon :src="$icon" size="16"></v-icon>
            </b>
            <span class="v-show v-f-left">
                {{ $slot }}
            </span>
            <div class="v-clear-left"></div>
        </div>
    </button>
</template>

<script>

/**
 * Call function each time button is clicked.
 */

function triggerButton(btn)
{
    let el = $(btn);
    
    if(!el.attr('disabled'))
    {
        let method = el.attr('method'),
            href = el.attr('redirect'),
            guard = el.attr('guard') ? true : false;

        if(method && href === null)
        {
            if(guard)
            {
                el.prop('disabled', true);
            }

            window[method](btn);
        }
        else if(!method && href)
        {
            window.location.href = href;
        }
    }
}

</script>

<style>
.nv-button {
    padding: 0px 10px;
    border: 0px;
    outline: none;
}
</style>